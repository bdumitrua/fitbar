## Общий положняк

Итак, путник, здесь собраны модели всех таблиц из миграций (рекомендую сперва ознакомиться с ними) и их связи с другими моделями для удобного доступа к данным.

# Кто с кем связан

1. Пользователь:

-   имеет много Заказов
-   имеет много Адресов
-   имеет много Ролей через таблицу Роли Пользователей
-   имеет много Продуктов в Корзине
-   имеет много Избранных товаров
-   оставил много Отзывов
-   проголосовал в множестве Оценок отзывов

P.S. Ещё из важного, что модель пользователей реализует интерфейс JWTSubject для работы с JWT токенами.
Длительность жизни access token'a - 60 минут
Длительность жизни refresh token'a - 20160 минут (2 недели)

2. Роль:

-   присвоена многим Пользователям через таблицу Роли Пользователей

3. Роли Пользователей:

-   ссылается на Пользователей
-   ссылается на Роли

4. Адрес:

-   принадлежит Пользователю

5. Продукт:

-   принадлежит Категории
-   входит в множество Заказов через таблицу Товары заказов
-   входит в Корзины многих Пользователей
-   есть в Избранных товарах у многих Пользователей
-   имеет много Отзывов

6. Категория:

-   содержит много Продуктов

7. Корзина:

-   ссылается на Пользователей
-   ссылается на Продукты

8. Заказ:

-   принадлежит Пользователю
-   содержит много Продуктов через таблицу Товары заказов

9. Товары заказов:

-   ссылается на Заказы
-   ссылается на Продукты

10. Избранные товары:

-   ссылается на Пользователей
-   ссылается на Продукты

11. Отзыв:

-   принадлежит Пользователю
-   принадлежит Продукту
-   имеет много Оценок отзывов

12. Оценки отзывов:

-   принадлежит Отзыву
-   принадлежит Пользователю
